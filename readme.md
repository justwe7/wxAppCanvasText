## å¾®ä¿¡å°ç¨‹åºcanvasç»˜åˆ¶å¯æŠ˜è¡Œçš„æ–‡æœ¬

ç»å¸¸æœ‰è¿™ç§ç»˜åˆ¶å°ç¨‹åºæµ·æŠ¥ï¼Œç„¶åè¿˜èƒ½ä¿å­˜åˆ°æœ¬åœ°åˆ†äº«çš„éœ€æ±‚   
![Alt text](/img/1.png "Optional title")

> å›¾ç‰‡ç”¨canvasç”»ä¸Šå»ï¼ŒcssæŠŠæ–‡å­—å†™ä¸€ä¸‹å°±okäº†~~ï¼Œä¸€é€šæ“ä½œçŒ›å¦‚è™ï¼Œå†™å®Œä¹‹åäºŒç™¾äº”(ğŸ˜­)ï¼Œå¥½åƒæ–‡æœ¬æ²¡æœ‰ç»˜åˆ¶å‡ºæ¥233ã€‚ã€‚(åŸæ¥æ–‡æœ¬ä¹Ÿå¾—canvasç»˜åˆ¶)ï¼Œæ–‡æœ¬å•è¡Œè¿˜å¥½è¯´ï¼Œå¤šè¡ŒæŠ˜è¡Œçš„é—®é¢˜ï¼Œæ€»ä¸èƒ½è‡ªå·±ä¸€ä¸ªå­—ä¸€ä¸ªå­—çš„è¯•å§ã€‚

-------------------------------------

### å®ç°åŸç†
å°†æ®µè½å†…å®¹é€å­—åˆ‡å‰²ï¼Œä½¿ç”¨å°ç¨‹åº**measureTextæ¥å£è¿”å›çš„æ–‡æœ¬å®½åº¦**æŠŠæ¯ä¸ªå­—ç¬¦å®½åº¦ä¸æ–­ç´¯åŠ ï¼Œè®¡ç®—æ¯ä¸€æ®µå†…å®¹æ˜¯å¦è¶…å‡ºè®¾ç½®æ—¢å®šå®½åº¦ï¼Œè¶…å‡ºåˆ™å¦èµ·ä¸€è¡Œï¼Œç›´åˆ°éå†å®Œæˆæ‰€æœ‰æ–‡æœ¬å†…å®¹ã€‚

## ä½¿ç”¨æ–¹å¼
- wepy,mpvue,Taroè¿™ç§ä¸‰æ–¹çš„è¾…åŠ©å¼€å‘æ¡†æ¶ç›´æ¥ `npm i wx-ctxtext` å¼•å…¥å³å¯
- åŸç”Ÿå°ç¨‹åºå¼€å‘æ–¹å¼æ¯”è¾ƒéº»çƒ¦
  1. `npm init` åˆå§‹åŒ–ä¸€ä¸ªnpmæ¸…å•
  2. `npm i wx-ctxtext` å®‰è£…
  3. å°ç¨‹åºå¼€å‘å·¥å…· -> å·¥å…· -> æ„å»ºnpm
  4. ä½¿ç”¨

  ![Alt text](/img/3.png "Optional title")    
(å› ä¸ºé¡¹ç›®ç”¨çš„ä¸‰æ–¹è¾…åŠ©å¼€å‘ï¼Œåªåœ¨æœ¬åœ°è·‘äº†ä¸€ä¸ªåŸç”Ÿå°ç¨‹åºæµ‹è¯•äº†ä¸€ä¸‹åŠŸèƒ½æ­£å¸¸ï¼Œä¸ç¡®å®šæ˜¯å¦éƒ¨ç½²çº¿ä¸Šä»£ç èƒ½å¦ç”Ÿæ•ˆã€‚ã€‚)

### ç¤ºä¾‹ä»£ç 
```javascript
import DrawTextWrap from 'wx-ctxtext';
const config = {
  ctx: ctx,
  startX: 30,
  startY: 30,
  maxWidth: 300,
  content: {
    fontsize: 16,
    baseline: 'top',
    align: 'left',
    lineHeight: 20,
    color: '#988',
    text: 'äº”å¹´å¤šä»¥æ¥ï¼Œåœ¨å„æ–¹å…±åŒåŠªåŠ›ä¸‹ï¼Œâ€œå…­å»Šå…­è·¯å¤šå›½å¤šæ¸¯â€çš„äº’è”äº’é€šæ¶æ„åŸºæœ¬å½¢æˆï¼Œä¸€å¤§æ‰¹åˆä½œé¡¹ç›®è½åœ°ç”Ÿæ ¹ï¼Œé¦–å±Šé«˜å³°è®ºå›çš„å„é¡¹æˆæœé¡ºåˆ©è½å®ï¼Œ150å¤šä¸ªå›½å®¶å’Œå›½é™…ç»„ç»‡åŒä¸­å›½ç­¾ç½²å…±å»ºâ€œä¸€å¸¦ä¸€è·¯â€åˆä½œåè®®ã€‚'
  }
}
new DrawTextWrap(config).draw()
```
æ•ˆæœå¦‚ä¸‹   
![Alt text](/img/2.png "Optional title")

### é…ç½®é¡¹
> æ‰€æœ‰å•ä½ä»¥ 750è®¾è®¡ç¨¿æ¥æ¢ç®—çš„ 


| é…ç½®é¡¹           | æè¿°                                                                                                                  |
| ---------------- | --------------------------------------------------------------------------------------------------------------------- |
| ctx              | å°ç¨‹åºè·å–åˆ°çš„canvasç”»å¸ƒ å³ï¼šwx.createCanvasContext("renderImg")                                                      |
| [,screen]        | è®¾è®¡ç¨¿å®½åº¦ é»˜è®¤æ˜¯2å€ä¸º750pxçš„,éå¿…å¡«                                                                                  |
| startX           | åŸºäºcanvasç”»å¸ƒçš„xè½´åæ ‡å¼€å§‹ç»˜åˆ¶                                                                                       |
| startY           | åŸºäºcanvasç”»å¸ƒçš„yè½´åæ ‡å¼€å§‹ç»˜åˆ¶                                                                                       |
| maxWidth         | åˆ°æ­¤å®½åº¦å¼€å§‹æŠ˜è¡Œ                                                                                                      |
| content          | æ–‡æœ¬è®¾ç½®æ ·å¼,åˆå§‹å€¼(è¿™äº›å€¼éå¿…å¡«é¡¹) fontsize = 16, color = '#333', lineHeight = 22, baseline = 'top', align = 'left'  |
| content.fontsize | æ–‡å­—å¤§å°                                                                                                              |
| content.baseline | æ–‡å­—ç«–ç›´å¯¹é½æ–¹å¼ï¼Œå‚è§[æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/api/CanvasContext.setTextBaseline.html) |
| content.bold     | æ˜¯å¦åŠ ç²—                                                                                                              |
| content.align    | æ–‡å­—å¯¹é½                                                                                                              |
| content.color    | æ–‡æœ¬é¢œè‰²                                                                                                              |
| content.text     | ç»˜åˆ¶çš„å†…å®¹                                                                                                            |